"use strict";var _require=require("jsonwebtoken"),JsonWebTokenError=_require.JsonWebTokenError,mongoose=require("mongoose"),blogMessage=require("../models/blogMessage"),verify=require("../routes/verifyToken"),jwt="jsonwebtoken",getPost=function(e,t){var s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(blogMessage.find());case 3:s=e.sent,t.status(200).json(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.status(404).json({message:e.t0.message});case 10:case"end":return e.stop()}},null,null,[[0,7]])},readPost=function(t,s){var r,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.id,console.log(r),mongoose.Types.ObjectId.isValid(r)){e.next=4;break}return e.abrupt("return",s.status(404).send("No Post with that id"));case 4:return e.next=6,regeneratorRuntime.awrap(blogMessage.findById(r));case 6:n=e.sent,s.json(n);case 8:case"end":return e.stop()}})},createPost=function(t,s){var r,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.body,n=new blogMessage(r),e.prev=2,console.log(t),e.next=6,regeneratorRuntime.awrap(n.save());case 6:s.status(201).json(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s.status(409).json({message:e.t0.message});case 12:case"end":return e.stop()}},null,null,[[2,9]])},deletePost=function(t,s){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.id,mongoose.Types.ObjectId.isValid(r)){e.next=3;break}return e.abrupt("return",s.status(404).send("No post with that id"));case 3:return e.next=5,regeneratorRuntime.awrap(blogMessage.findByIdAndRemove(r));case 5:s.json({message:"Post deleted successfully"});case 6:case"end":return e.stop()}})};module.exports={getPost:getPost,createPost:createPost,readPost:readPost,deletePost:deletePost};
//# sourceMappingURL=blogPost.min.js.map
